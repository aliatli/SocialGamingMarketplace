<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <!--
      <link rel="stylesheet" href="/Css/store.css">
    -->
    <style>
    .container-fluid {
      margin-top: 25px;
    }

    .text {
      word-wrap: break-word;
    }

    .btn{
        text-align: center;
        white-space: normal;
        word-wrap: break-word;
        width: 100%;
    }

    .button-wrapper .btn {
      margin-top: 3%;
    }

    .img-responsive{
      max-width: 100%;
      max-height: 100%;
    }

    .form-control{
      padding-left:0;
      padding-top:0;
      padding-bottom:0.4em;
      padding-right: 0.4em;
    }

    </style>

    <title>Manage Information</title>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10">
          <div class="row">
            <div class="col-md-3">
              <div class="panel panel-default" style="display: flex;justify-content: center;align-items: center">
                <button type="button" class="btn btn-primary">
                  <p class="text" style="font-size:300%">Store</p>
                </button>
              </div>
            </div>
            <div class="col-md-3">
              <div class="panel panel-default" style="display: flex;justify-content: center;align-items: center">
                <button type="button" class="btn btn-primary">
                  <p class="text" style="font-size:300%">Profile</p>
                </button>
              </div>
            </div>
            <div class="col-md-3">
              <div class="panel panel-default" style="display: flex;justify-content: center;align-items: center">
                <button type="button" class="btn btn-primary">
                  <p class="text" style="font-size:300%">Community</p>
                </button>
              </div>
            </div>
            <div class="col-md-3">
              <div class="row">
                <div class="col-md-9">
                  <div class="panel panel-default" style="margin-top: 3%">
                    <input class="form-control" placeholder="Search" style="font-size:300%">
                  </div>
                </div>
                <div class="col-md-3" style="margin-top: 5%">
                  <button type="button" class="btn btn-primary">
                    <i class="fa fa-search" style="font-size:300%"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-1"></div>
      </div>
    </div>

    <p class="text-center" style="font-size:300%; margin-top: 2%">Manage Information</p>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-3">
                <div class="panel panel-default" style="display: flex;justify-content: center;align-items: center">
                  <button class="btn btn-primary" onclick="manage_payment()">
                    <p class="text" style="font-size:100%">Manage Payment Information</p>
                  </button>
                </div>
              </div>
              <div class="col-md-3">
                <div class="panel panel-default" style="display: flex-end;justify-content: center;align-items: center">
                  <button class="btn btn-primary" onclick="manage_password()">
                    <p class="text" style="font-size:100%">Manage Password</p>
                  </button>
                </div>
              </div>
              <div class="col-md-3">
                <div class="panel panel-default" style="display: flex-end;justify-content: center;align-items: center">
                  <button class="btn btn-primary" onclick="manage_info()">
                    <p class="text" style="font-size:100%">Manage Account Information</p>
                  </button>
                </div>
              </div>
              <div class="col-md-3">
                <div class="panel panel-default" style="display: flex-start;justify-content: center;align-items: center;">
                  <button class="btn btn-primary" onclick="add_balance_show()">
                    <p class="text" style="font-size:100%">Add Balance</p>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-2"></div>
      </div>
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
          <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
              <div id="manage_payment">
                <div class="norow">
                  <div class="col-md-12" style="border: 1px solid black">
                    <div class="form-group required">
                      <label for="billing_address" class="col-md-12 col-form-label" style="font-size:120%">Billing Address:</label>
                      <div class="col-md-12">
                        <textarea class="form-control" style="font-size: 90%; min-height: 100px; max-height: 100px" rows="3" value="" id="billing_address" maxlength="256" placeholder="SQL get old data from DB"></textarea>
                      </div>
                    </div>
                    <label for="card_no" class="col-md-12 col-form-label" style="font-size:120%">Payment Details:</label>
                    <div class="form-group required">
                      <label for="card_no" class="col-md-12 col-form-label" style="font-size:100%">Card No:</label>
                      <div class="col-md-12">
                        <input class="form-control" style="font-size:90%" type="text" value="" id="card_no" maxlength="19" placeholder="**** **** **** ****" onkeyup="card_no_spacing()">
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="row">
                        <div class="form-group required">
                          <label for="expiry_date" class="col-md-12 col-form-label" style="font-size:100%">Expiry Date:</label>
                          <div class="col-md-12">
                            <input class="form-control" style="font-size:90%" type="text" value="" id="expiry_date" maxlength="5" placeholder="MM/YY" onkeyup="expiry_date()">
                          </div>
                        </div>
                        <div class="form-group required">
                          <label for="cvv" class="col-md-12 col-form-label" style="font-size:100%">CVV:</label>
                          <div class="col-md-12">
                            <input class="form-control" style="font-size:90%" type="text" value="" id="cvv" maxlength="3" placeholder="123" onkeyup="cvv()">
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-md-6">
                        <!--
                          Do not forget to convert card_no, expiry_date and cvv to number in submit button
                        -->
                        <button type="submit" class="btn btn-primary" onmouseup="save_payment_method()">Save Payment Method</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div id="manage_password" style="display:none">
                <div class="norow">
                  <div class="col-md-12" style="border: 1px solid black">
                    <label for="old_password" class="col-md-12 col-form-label" style="font-size:120%">Change Your Password:</label>
                    <div class="form-group required">
                      <label for="old_password" class="col-md-12 col-form-label" style="font-size:100%">Old Password:</label>
                      <div class="col-md-12">
                        <input class="form-control" style="font-size:90%" type="password" value="" id="old_password" maxlength="16" placeholder="Old Password">
                      </div>
                    </div>
                    <div class="form-group required">
                      <label for="new_password" class="col-md-12 col-form-label" style="font-size:100%">New Password:</label>
                      <div class="col-md-12">
                        <input class="form-control" style="font-size:90%" type="password" value="" id="new_password" maxlength="16" placeholder="New Password">
                      </div>
                    </div>
                    <div class="form-group required">
                      <label for="confirm_password" class="col-md-12 col-form-label" style="font-size:100%">Confirm New Password:</label>
                      <div class="col-md-12">
                        <input class="form-control" style="font-size:90%" type="password" value="" id="confirm_password" maxlength="16" placeholder="Confirm New Password">
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-md-6">
                        <button type="submit" class="btn btn-primary" onmouseup="change_password()">Save New Password</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div id="manage_info" style="display:none">
                <div class="norow">
                  <div class="col-md-12" style="border: 1px solid black">
                    <div class="form-group required">
                      <label for="profile_info" class="col-md-12 col-form-label" style="font-size:120%">Profile Info:</label>
                      <div class="col-md-12">
                        <textarea class="form-control" style="font-size: 90%; min-height: 100px; max-height: 100px" rows="3" value="" id="profile_info" maxlength="256" placeholder="SQL get old data from DB"></textarea>
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-md-6">
                        <button type="submit" class="btn btn-primary" onmouseup="profile_info()">Save Profile Info</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div id="add_balance" style="display:none">
                <div class="norow">
                  <div class="col-md-12" style="border: 1px solid black">
                    <label for="balance" class="col-md-12 col-form-label" style="font-size:120%">Add Balance:</label>
                    <div class="form-group required">
                      <div class="col-md-12">
                        <input class="form-control" style="font-size:90%" type="text" value="" id="balance" maxlength="16" placeholder="Add Balance" onkeyup="display_add_balance()">
                      </div>
                      <div class="col-md-12" style="margin-top: 2%">
                        <p class="text" style="font-size:120%" id="display_add_balance"></p>
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-md-6">
                        <button type="submit" class="btn btn-primary" onmouseup="add_balance()">Add balance</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-3"></div>
          </div>
        </div>
        <div class="col-md-2"></div>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <script language="JavaScript" type="text/javascript">
    function manage_payment(){
      var manage_payment = document.getElementById("manage_payment");
      var manage_password = document.getElementById("manage_password");
      var manage_info = document.getElementById("manage_info");
      var add_balance = document.getElementById("add_balance");
      manage_payment.style.display = "block";
      manage_password.style.display = "none";
      manage_info.style.display = "none";
      add_balance.style.display = "none";
    }

    function manage_password(){
      var manage_payment = document.getElementById("manage_payment");
      var manage_password = document.getElementById("manage_password");
      var manage_info = document.getElementById("manage_info");
      var add_balance = document.getElementById("add_balance");
      manage_payment.style.display = "none";
      manage_password.style.display = "block";
      manage_info.style.display = "none";
      add_balance.style.display = "none";
    }

    function manage_info(){
      var manage_payment = document.getElementById("manage_payment");
      var manage_password = document.getElementById("manage_password");
      var manage_info = document.getElementById("manage_info");
      var add_balance = document.getElementById("add_balance");
      manage_payment.style.display = "none";
      manage_password.style.display = "none";
      manage_info.style.display = "block";
      add_balance.style.display = "none";
    }

    function add_balance_show(){
      var manage_payment = document.getElementById("manage_payment");
      var manage_password = document.getElementById("manage_password");
      var manage_info = document.getElementById("manage_info");
      var add_balance = document.getElementById("add_balance");
      manage_payment.style.display = "none";
      manage_password.style.display = "none";
      manage_info.style.display = "none";
      add_balance.style.display = "block";
    }

    function card_no_spacing(){
      var card_no_value = document.getElementById("card_no").value;
      var new_card_no_value = card_no_value.replace(/\s+/g, '').replace(/[^0-9\ ]+/g, '');

      if(new_card_no_value.length > 16){
        new_card_no_value = new_card_no_value.substring(0, 16);
      }

      if(new_card_no_value.length > 4){
        new_card_no_value = new_card_no_value.substring(0, 4) + " " + new_card_no_value.substring(4, new_card_no_value.length);
      }
      if(new_card_no_value.length > 9){
        new_card_no_value = new_card_no_value.substring(0, 9) + " " + new_card_no_value.substring(9, new_card_no_value.length);
      }
      if(new_card_no_value.length > 14){
        new_card_no_value = new_card_no_value.substring(0, 14) + " " + new_card_no_value.substring(14, new_card_no_value.length);
      }

      document.getElementById("card_no").value = new_card_no_value;
    }

    function expiry_date(){
      var expiry_date_value = document.getElementById("expiry_date").value;
      var new_expiry_date_value = expiry_date_value.replace(/\s+/g, '').replace(/[^0-9\ ]+/g, '');

      if(new_expiry_date_value.length === 5){
        new_expiry_date_value = new_expiry_date_value.substring(1, 5);
      }

      if(new_expiry_date_value.substring(0, 2) > 12){
        new_expiry_date_value = "12" + new_expiry_date_value.substring(2, new_expiry_date_value.length)
      }

      /*
        Add expections for every month!
      */
      if(new_expiry_date_value.substring(2, 4) > 31){
        new_expiry_date_value = new_expiry_date_value.substring(0, 2) + "31";
      }

      if(new_expiry_date_value.length > 2){
        new_expiry_date_value = new_expiry_date_value.substring(0, 2) + "/" + new_expiry_date_value.substring(2, new_expiry_date_value.length)
      }

      document.getElementById("expiry_date").value = new_expiry_date_value;
    }

    function cvv(){
      var cvv_value = document.getElementById("cvv").value;
      var new_cvv_value = cvv_value.replace(/\s+/g, '').replace(/[^0-9\ ]+/g, '');

      document.getElementById("cvv").value = new_cvv_value;
    }

    function display_add_balance(){
      var balance = document.getElementById("balance").value;
      document.getElementById("display_add_balance").innerHTML= "$" + balance;
    }

    function save_payment_method(){
      console.log("Convert data types");
    }

    function profile_info(){
      console.log("SQL");
    }

    function change_password(){
      console.log("SQL");
    }

    function add_balance(){
      console.log("Convert to float");
    }
    </script>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
  </body>
</html>
